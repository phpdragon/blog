---
title: å°ç±³R3Gè·¯ç”±å™¨åˆ·æœºæ•™ç¨‹
date: 2025-11-20 18:39:43
categories: ['OpenWrt', 'Xiaomi', 'R3G']
tags: ['OpenWrt', 'Xiaomi', 'R3G', 'exploit']
---

# ä¸€ã€è·¯ç”±å™¨ç¡¬ä»¶

Xiaomi Mi Router 3G (R3G)ç¡¬ä»¶ä¿¡æ¯æ±‡æ€»:

ðŸ“¶ è·¯ç”±å™¨ä¿¡æ¯ï¼š
- è·¯ç”±å™¨åž‹å· ï¼šå°ç±³è·¯ç”±å™¨3G(R3G)
- ç³»ç»ŸROMç‰ˆæœ¬: MiWiFi ç¨³å®šç‰ˆ 2.28.44

ðŸš€ å¤„ç†å™¨ (CPU)
- åž‹å·: MT7621 SoC
- æž¶æž„: MIPS 1004Kc V2.15
- æ ¸å¿ƒæ•°: 4æ ¸å¿ƒ (2ä¸ªç‰©ç†æ ¸å¿ƒï¼Œæ¯ä¸ªæ ¸å¿ƒ2ä¸ªè™šæ‹Ÿå¤„ç†å™¨VPE)
- é¢‘çŽ‡: çº¦580MHz (åŸºäºŽBogoMIPSä¼°ç®—)
- ç‰¹æ€§: æ”¯æŒMIPS16ã€DSPã€å¤šçº¿ç¨‹

ðŸ’¾ å†…å­˜ (RAM)
- æ€»å®¹é‡: 253MB (çº¦256MB)
- å¯ç”¨å†…å­˜: 150MB
- ç±»åž‹: DDR3
- æ— äº¤æ¢åˆ†åŒº

ðŸ’¿ å­˜å‚¨ (Flash)
- æ€»é—ªå­˜: çº¦128MB NAND Flash
- åˆ†åŒºå¸ƒå±€:
    - Bootloader: 512KB
    - é…ç½®åŒº: 256KB Ã— 3
    - å†…æ ¸: 4MB Ã— 2 (åŒå¤‡ä»½)
    - æ ¹æ–‡ä»¶ç³»ç»Ÿ: 32MB Ã— 2 (åŒå¤‡ä»½)
    - æ•°æ®åŒº: 53MB

ðŸ“¡ æ— çº¿ç½‘ç»œ (WiFi)
åŒé¢‘å¹¶å‘ï¼š

- 2.4GHz (wl1): MT7603EN èŠ¯ç‰‡
    - é€ŸçŽ‡: 144Mbps
    - å‘å°„åŠŸçŽ‡: 19dBm
    - é¢‘é“: 2 (2.417GHz)

- 5GHz (wl0): MT7612EN èŠ¯ç‰‡
    - é€ŸçŽ‡: 867Mbps
    - å‘å°„åŠŸçŽ‡: 16dBm
    - é¢‘é“: 149 (5.745GHz)

ðŸ”Œ æœ‰çº¿ç½‘ç»œ
- WANå£: eth1 (192.168.1.129)
- LANå£: br-lan (192.168.31.1/24)
- äº¤æ¢æœº: MT7530 å†…ç½®

ðŸ”§ PCIè®¾å¤‡
- 00:00.0 - MT7621 ç³»ç»Ÿæ¡¥æŽ¥
- 00:01.0 - MT7621 PCIeæ¡¥æŽ¥
- 01:00.0 - MT7603EN 2.4GHzæ— çº¿èŠ¯ç‰‡
- 02:00.0 - MT7612EN 5GHzæ— çº¿èŠ¯ç‰‡


# äºŒã€å›ºä»¶è¯¦æƒ…

> æµè§ˆå™¨è®¿é—®ï¼š`http://192.168.31.1/cgi-bin/luci/;stok=ä½ çš„STOK/api/xqsystem/check_rom_update` èŽ·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ã€‚
> å®˜ç½‘ä¸‹è½½åœ°å€ï¼š`https://bigota.miwifi.com/xiaoqiang/rom/r3g/å›ºä»¶æ–‡ä»¶å`

## 2.1. å›ºä»¶åˆ—è¡¨

> åŒä¸€ä¸ªå¤§ç‰ˆæœ¬ä¹‹é—´å¯ä»¥é€šè¿‡ç®¡ç†åŽå°é™çº§ï¼Œæ¯”å¦‚2.28.44å¯ä»¥é™çº§åˆ°2.28.24ã€‚

| å›ºä»¶æ–‡ä»¶å | ç±»åˆ« | ç‰ˆæœ¬ |  MD5 | å‘å¸ƒæ—¥æœŸ |
| :-----: | :-----: | :----: | :----: | :----: |
| miwifi_r3g_firmware_26d93_2.28.24.bin | ç¨³å®šç‰ˆ | 2.28.24 | e6c7057e65b0f4313992f0ac5e626d93 | 2023-02-04(å¯èƒ½) |
| miwifi_r3g_firmware_9be74_2.28.44.bin | ç¨³å®šç‰ˆ | 2.28.44 | ad0335eb70b3ae308a9e69c29949be74 | 2019-10-21 |
| miwifi_r3g_firmware_12f97_2.25.124.bin | å¼€å‘ç‰ˆ | 2.25.124 | c1501c245aca04018fd065284d012f97 | 2018-10-30 |

------

## 2.2. MTDå¤‡ä»½

| å›ºä»¶æ–‡ä»¶å | MTDå¤‡ä»½ | MTDå¤‡ä»½MD5 |
| :-----: | :----: | :----: |
| miwifi_r3g_firmware_9be74_2.28.44.bin | å°ç±³è·¯ç”±å™¨R3G-ROM2.28.44-MTDå¤‡ä»½.zip | b65f2540dea3af4c9a73212953be51de |

## 2.3. ROMé™çº§

- åŒä¸€ä¸ªå¤§ç‰ˆæœ¬ä¹‹é—´å¯ä»¥é€šè¿‡ç®¡ç†åŽå°é™çº§ã€‚
- Uç›˜åˆ·æœºé™çº§ï¼š

1.è¯·ç¡®å®šå·²çŸ¥æ™“ç”¨hdk/allåŒ…åˆ·æœºä¼šæ ¼å¼åŒ–ç¡¬ç›˜ï¼ˆè¯·ä»”ç»†é˜…è¯»æ­¥éª¤ä¸€çš„æ³¨æ„äº‹é¡¹ï¼‰ï¼›

2.å‡†å¤‡ç³»ç»Ÿæ ¼å¼ä¸ºFATæˆ–FAT32çš„Uç›˜ä¸€ä¸ªï¼ˆå¯åœ¨Uç›˜å±žæ€§ä¸­æŸ¥çœ‹ï¼‰ï¼›

3.å°†ä¸‹è½½çš„ROMåŒ…å¤åˆ¶åˆ°Uç›˜çš„æ ¹ç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºmiwifi.bin ï¼ŒåŒæ—¶ç¡®ä¿è¯¥ç›®å½•ä¸‹ä¸å­˜åœ¨å…¶å®ƒâ€œ.binâ€æ–‡ä»¶ï¼Œè‹¥å­˜åœ¨ä¼šå¯¼è‡´åˆ·æœºå¤±è´¥ï¼›

4.æ–­å¼€å°ç±³è·¯ç”±å™¨çš„ç”µæºï¼Œå°†Uç›˜æ’å…¥è·¯ç”±å™¨USBæŽ¥å£ï¼›

5.æŒ‰ä½reseté”®ï¼ŒæŽ¥é€šç”µæºï¼Œç­‰å¾…æŒ‡ç¤ºç¯å˜ä¸ºé»„è‰²é—ªçƒçŠ¶æ€åŽæ¾å¼€reseté”®ï¼Œè·¯ç”±å™¨å¼€å§‹åˆ·æœºï¼›

6.ç­‰å¾…åˆ·æœºå®Œæˆï¼Œæ•´ä¸ªè¿‡ç¨‹çº¦ä¸º3-5åˆ†é’Ÿï¼Œå®ŒæˆåŽç³»ç»Ÿä¼šè‡ªåŠ¨é‡å¯ã€‚è·¯ç”±å™¨æŒ‡ç¤ºç¯å˜è“åˆ·æœºå®Œæˆï¼›å¦‚æžœå‡ºçŽ°å¼‚å¸¸ã€å¤±è´¥ã€Uç›˜æ— æ³•è¯»å–çš„çŠ¶å†µï¼Œä¼šè¿›å…¥çº¢ç¯çŠ¶æ€ï¼Œå»ºè®®é‡è¯•æˆ–æ›´æ¢Uç›˜å†è¯•ã€‚

è¯·æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹ => [ã€è·¯ç”±åˆ·æœºæ•™ç¨‹ã€‘é€‚ç”¨äºŽå¸¦USBçš„å°ç±³è·¯ç”±](https://web.vip.miui.com/page/info/mio/mio/detail?postId=19154125&app_version=dev.20051)


# ä¸‰ã€èŽ·å–SSH

ä»¥ä¸‹æ˜¯é€‚ç”¨ä¸‰æ–¹æ–¹æ¡ˆçš„å›ºä»¶åˆ—è¡¨ï¼š
| å›ºä»¶æ–‡ä»¶å | å¯å¦èŽ·å–ssh |
| :-----: | :-----: |
| miwifi_r3g_firmware_26d93_2.28.24.bin | æ˜¯ |
| miwifi_r3g_firmware_9be74_2.28.44.bin | æ˜¯ |
| miwifi_r3g_firmware_12f97_2.25.124.bin | æ˜¯ |


## 1. å®˜æ–¹æ–¹æ¡ˆ

> æ³¨æ„ 2.28.44 ç¨³å®šç‰ˆã€2.25.124 å¼€å‘ç‰ˆæ˜¯å¯ä»¥äº’åˆ·çš„ã€‚
> å…ˆé€šè¿‡ç®¡ç†åŽå°åˆ·å…¥å®˜æ–¹å¼€å‘ç‰ˆROM(å°±æ˜¯æ‰‹åŠ¨ç³»ç»Ÿå‡çº§)ï¼ŒROMä¸‹è½½é“¾æŽ¥åœ¨è¿™é‡Œ [R3G_ROM](https://bigota.miwifi.com/xiaoqiang/rom/r3g/miwifi_r3g_firmware_12f97_2.25.124.bin)ã€‚
> è¿™æ˜¯å®˜æ–¹ä¸‹è½½é¡µ [MiWiFi ROMä¸‹è½½](https://www1.miwifi.com/miwifi_download.html)ï¼Œå¯ä»¥è‡ªå·±æ‰¾;

1) å…ˆé€šè¿‡ç±³å®¶æˆ–è€…å°ç±³WiFi APP ç»‘å®šè¿™å°è·¯ç”±å™¨ã€‚
2) è®¿é—® [MiWiFi SSH](https://d.miwifi.com/rom/ssh) é¡µé¢ï¼Œç™»å½•å°ç±³è´¦å·ï¼Œåœ¨å¯¹åº”çš„å°ç±³è·¯ç”±å™¨3GåŽé¢æœ‰rootå¯†ç å’Œå·¥å…·åŒ…ã€‚
3) æŒ‰å®˜æ–¹çš„æç¤ºæ“ä½œå³å¯ï¼š
    - è¯·å°†ä¸‹è½½çš„å·¥å…·åŒ…binæ–‡ä»¶å¤åˆ¶åˆ°Uç›˜ï¼ˆFAT/FAT32æ ¼å¼ï¼‰çš„æ ¹ç›®å½•ä¸‹ï¼Œä¿è¯æ–‡ä»¶åä¸º `miwifi_ssh.bin`ï¼›
    - æ–­å¼€å°ç±³è·¯ç”±å™¨çš„ç”µæºï¼Œå°†Uç›˜æ’å…¥USBæŽ¥å£ï¼›
    - æŒ‰ä½resetæŒ‰é’®ä¹‹åŽé‡æ–°æŽ¥å…¥ç”µæºï¼ŒæŒ‡ç¤ºç¯å˜ä¸ºé»„è‰²é—ªçƒçŠ¶æ€å³å¯æ¾å¼€reseté”®ï¼›
    - ç­‰å¾…3-5ç§’åŽå®‰è£…å®Œæˆä¹‹åŽï¼Œå°ç±³è·¯ç”±å™¨ä¼šè‡ªåŠ¨é‡å¯ï¼Œä¹‹åŽæ‚¨å°±å¯ä»¥å°½æƒ…æŠ˜è…¾å•¦ ï¼šï¼‰

## 2. ä¸‰æ–¹æ–¹æ¡ˆ1

1) ä¸‹è½½ [2022-R4A_V2åˆ·æœºå·¥å…·](https://pan.baidu.com/s/1yEbHDQBzy43uV8gIYXqbnw?pwd=6666#list/path=%2Fsharelink2076919717-858150382706250%2Ffiles%2Frouter-xiaomi-r3g-exploit) ã€‚
2) åœ¨Windowsç³»ç»Ÿä¸­è§£åŽ‹å¹¶åŒå‡»è¿è¡Œ `2022-R4A_V2åˆ·æœºå·¥å…·` ç›®å½•ä¸‹çš„ `1.V1ç‰ˆå¼€Telnet.bat` ã€‚
3) åœ¨å¼¹å‡ºçš„çª—å£ï¼Œè¾“å…¥å›žè½¦ï¼Œç„¶åŽè¾“å…¥è·¯ç”±å™¨åŽå°ç®¡ç†åœ°å€(é»˜è®¤ä¸€èˆ¬æ˜¯`192.168.31.1`), ç„¶åŽè¾“å…¥è·¯ç”±å™¨ç®¡ç†å¯†ç ã€‚ç¨‹åºä¼šè‡ªåŠ¨æ‰“å¼€sshã€‚

4) æç¤ºèŽ·å¾—sshæˆåŠŸåŽï¼Œè¿˜éœ€è¦å›ºåŒ–, ç¼–è¾‘ `vi /etc/rc.local` åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š
```bash
/usr/sbin/bdata set telnet_en=1 && /usr/sbin/bdata commit && /etc/init.d/telnet start &
```
æœ€ç»ˆæ•ˆæžœå®žä¾‹, æ‰§è¡ŒæŸ¥çœ‹å‘½ä»¤ `cat /etc/rc.local` è¾“å‡ºï¼š
```bash
# restore phy config
speed=$(uci -q get xiaoqiang.common.WAN_SPEED)
[ -n "$speed" ] && /usr/sbin/phyhelper swan "$speed"

bdata set telnet_en=1 && bdata commit && /etc/init.d/telnet start

exit 0
```

5) æŽˆäºˆ `/etc/rc.local` æ–‡ä»¶å¯æ‰§è¡Œæƒé™:
```bash
chmod +x /etc/rc.local

# ä½ è¦éªŒè¯çš„åŒ–å°±é‡å¯è·¯ç”±å™¨
reboot
```
6) éªŒè¯æ•ˆæžœ, å¦‚æžœæç¤ºç™»å½•æç¤ºï¼Œåˆ™è¯´æ˜Žå›ºåŒ–æˆåŠŸäº†

```bash
# ç™»å½•ssh
telnet 192.168.31.1
```

7) ä½ æƒ³å›ºåŒ–sshçš„è¯ï¼Œè¯·æŒ‰å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š
    - æ‹·è´ `/tmp/dropbear` åˆ° `/etc/dropbear/dropbear` , å‘½ä»¤ï¼š `mv /tmp/dropbear /etc/dropbear/dropbear`
    - ç¼–è¾‘ `/etc/rc.local`, åŠ å…¥å†…å®¹ï¼š`/etc/dropbear/dropbear -p 22`

## 3. ä¸‰æ–¹æ–¹æ¡ˆ2

> å‡å¦‚é¡¹ç›®æ²¡æœ‰æˆåŠŸï¼Œè®°å¾—ç”¨`dos2unix`å‘½ä»¤æŠŠdataç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ ¼å¼ä¸€ä¸‹: `dos2unix *`

- å‰å¾€ä¸‹è½½Gité¡¹ç›® [xmir-patcher](https://github.com/openwrt-xiaomi/xmir-patcher.git) ã€‚
- æ‰§è¡Œé¡¹ç›®ä¸‹çš„ `run.bat`ï¼Œæ ¹æ®æç¤ºæ“ä½œå³å¯, è¿™ä¸ªç‰ˆæœ¬ä¼šè‡ªåŠ¨å›ºåŒ– SSHã€‚

------

**ï¼ï¼ï¼å¦‚æžœä½ åªæƒ³èŽ·å–åˆ°sshï¼Œæ‰€æœ‰æ“ä½œå°±å¯ä»¥æ­¢æ­¥äºŽæ­¤äº†ï¼ï¼ï¼**

------

# å››ã€åˆ·å…¥ä¸‰æ–¹å›ºä»¶

## 4.1. å¤‡ä»½å®˜æ–¹uboot

**!!!å¤‡ä»½å®˜æ–¹ubooté˜²æ­¢æ“ä½œå¤±è´¥å˜ç –!!!**

> å¯¹ R3G æ•‘ç –æ¥è¯´ï¼Œæ ¸å¿ƒä¾èµ–ã€Œuboot ç›¸å…³ 1 ä¸ªåˆ†åŒº + Factory åˆ†åŒºã€ã€‚
> å…¶ä½™åˆ†åŒºå¤§å¤šå¯é€šè¿‡å®˜æ–¹å›ºä»¶è‡ªåŠ¨é‡å»ºï¼Œéžæ•‘ç –å¿…éœ€ã€‚
> mtd1ã€mtd4 éœ€è¦ï¼Œmtd3 åˆ†åŒºå¯é€‰ã€‚

1.ä½¿ç”¨ä¸Šæ–‡çš„`xmir-patcher`å·¥å…·ç®±å³æœ‰å¤‡ä»½MTDåˆ†åŒºçš„å·¥å…·ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½åˆ°`backups`ç›®å½•ä¸‹ã€‚

2.æ‰‹åŠ¨å¤‡ä»½åˆ†åŒº(mtd1ã€mtd4ã€mtd3)ï¼š
```bash
# å¤‡ä»½å®˜æ–¹uboot
dd if=/dev/mtd1 of=/tmp/mtd1_Bootloader.bin

# å› ä¸ºå°ç±³å®˜æ–¹ç³»ç»Ÿå¯¹ mtd4(Factory) åˆ†åŒºåšäº†ã€Œæƒé™é™åˆ¶ + ç¡¬ä»¶ä¿æŠ¤ã€,æ‰€ä»¥å†å¤‡ä»½ä¸€ä¸ªæ ¡éªŒç”¨æ–‡ä»¶
dd if=/dev/mtd3 of=/tmp/mtd3_Bdata.bin
dd if=/dev/mtd3 of=/tmp/mtd3_Bdata_verify.bin

# å·¥åŽ‚æ ¡å‡†åˆ†åŒºï¼ŒåŒ…å« MAC åœ°å€ã€æ— çº¿å°„é¢‘ï¼ˆWiFiï¼‰æ ¡å‡†å‚æ•°ã€ä»¥å¤ªç½‘ç«¯å£å‚æ•°ç­‰ç¡¬ä»¶ä¸“å±žæ•°æ®ã€‚
# è¿™äº›å‚æ•°æ˜¯å‡ºåŽ‚æ—¶å†™å…¥çš„ï¼Œç‹¬ä¸€æ— äºŒï¼Œä¸¢å¤±ä¼šå¯¼è‡´ WiFi ä¿¡å·å¼‚å¸¸ã€ç½‘å£å¤±æ•ˆç­‰ç¡¬ä»¶åŠŸèƒ½æ•…éšœã€‚
dd if=/dev/mtd4 of=/tmp/mtd4_Factory.bin
dd if=/dev/mtd4 of=/tmp/mtd4_Factory_verify.bin

# æ ¡éªŒå¤‡ä»½æ˜¯å¦æ­£ç¡®
mtd verify /tmp/mtd1_Bootloader.bin /dev/mtd1

# æ ¡éªŒä¸¤ä¸ªæ–‡ä»¶MD5æ˜¯å¦ç›¸åŒå³å¯
md5sum /tmp/mtd3_Bdata.bin
md5sum /tmp/mtd3_Bdata_verify.bin

# æ ¡éªŒä¸¤ä¸ªæ–‡ä»¶MD5æ˜¯å¦ç›¸åŒå³å¯
md5sum /tmp/mtd4_Factory.bin
md5sum /tmp/mtd4_Factory_verify.bin

# åˆ é™¤æ ¡éªŒæ–‡ä»¶
rm /tmp/mtd3_Bdata_verify.bin
rm /tmp/mtd4_Factory_verify.bin
```

3.ç„¶åŽæƒ³åŠžæ³•ä¸‹è½½è¿™äº›å¤‡ä»½æ–‡ä»¶å³å¯ï¼ŒæŽ¨èå®‰è£…ftpå·¥å…·ä¸‹è½½ï¼


## 4.2. åˆ·å…¥Breed

```text
wget https://breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin
```

## 4.3. åˆ·å…¥OpenWrt

## 4.4. åˆ·å…¥ImmortalWrt

# äº”ã€è¿˜åŽŸå®˜æ–¹å›ºä»¶

> è¿˜åŽŸå®˜æ–¹ubootå°½é‡ä½¿ç”¨åŽŸæœ‰è®¾å¤‡çš„å¤‡ä»½ï¼Œä½¿ç”¨å…¶ä»–è®¾å¤‡æå–çš„ubootå¯èƒ½macåœ°å€ ???

# å…­ã€ç¡¬ä»¶è¯¦æƒ…

## 1.CPU

```bash
root@XiaoQiang:~# cat /proc/cpuinfo
system type             : MT7621
machine                 : Unknown
processor               : 0
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 1
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VPE                     : 1
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 2
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 1
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 3
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 1
VPE                     : 1
VCED exceptions         : not available
VCEI exceptions         : not available
```


## 2.å†…å­˜

```bash
root@XiaoQiang:~# cat /proc/meminfo
MemTotal:         253124 kB
MemFree:          148304 kB
Buffers:           11312 kB
Cached:            38948 kB
SwapCached:            0 kB
Active:            32392 kB
Inactive:          32236 kB
Active(anon):      16004 kB
Inactive(anon):     2352 kB
Active(file):      16388 kB
Inactive(file):    29884 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                 0 kB
Writeback:             0 kB
AnonPages:         14432 kB
Mapped:            11896 kB
Shmem:              3988 kB
Slab:              22032 kB
SReclaimable:       3812 kB
SUnreclaim:        18220 kB
KernelStack:        1408 kB
PageTables:          864 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      126560 kB
Committed_AS:     126500 kB
VmallocTotal:    1048372 kB
VmallocUsed:       12640 kB
VmallocChunk:    1007592 kB
```

## 3.é—ªå­˜

```bash
root@XiaoQiang:~# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 07f80000 00020000 "ALL"
mtd1: 00080000 00020000 "Bootloader"
mtd2: 00040000 00020000 "Config"
mtd3: 00040000 00020000 "Bdata"
mtd4: 00040000 00020000 "Factory"
mtd5: 00040000 00020000 "crash"
mtd6: 00040000 00020000 "crash_syslog"
mtd7: 00040000 00020000 "reserved0"
mtd8: 00400000 00020000 "kernel0"
mtd9: 00400000 00020000 "kernel1"
mtd10: 02000000 00020000 "rootfs0"
mtd11: 02000000 00020000 "rootfs1"
mtd12: 03580000 00020000 "overlay"
mtd13: 01341000 0001f000 "ubi_rootfs"
mtd14: 030ec000 0001f000 "data"
```
## 4.ç£ç›˜

```bash
root@XiaoQiang:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                   19.3M     19.3M         0 100% /
none                    122.8M         0    122.8M   0% /dev
tmpfs                   123.6M      3.8M    119.8M   3% /tmp
/dev/mtdblock13          19.3M     19.3M         0 100% /
tmpfs                   123.6M      3.8M    119.8M   3% /tmp
tmpfs                   123.6M      3.8M    119.8M   3% /extdisks
ubi1_0                   43.5M     11.6M     29.6M  28% /data
ubi1_0                   43.5M     11.6M     29.6M  28% /userdisk
/dev/mtdblock13          19.3M     19.3M         0 100% /userdisk/data
ubi1_0                   43.5M     11.6M     29.6M  28% /etc
```

## 5.æ— çº¿ç½‘ç»œ

```bash
root@XiaoQiang:~# iwinfo
apcli0    ESSID: unknown
          Access Point: 00:00:00:00:00:00
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: apcli0

apclii0   ESSID: unknown
          Access Point: 00:00:00:00:00:00
          Mode: Master  Channel: 149 (5.745 GHz)
          Tx-Power: 16 dBm  Link Quality: 0/100
          Signal: 0  Noise: -256
          Bit Rate: 867.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: apclii0

wl0       ESSID: Xiaomi_9168_5G
          Access Point: 78:11:DC:45:91:6A
          Mode: Master  Channel: 149 (5.745 GHz)
          Tx-Power: 16 dBm  Link Quality: 0/100
          Signal: 0  Noise: -256
          Bit Rate: 867.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl0

wl1       ESSID: Xiaomi_9168
          Access Point: 78:11:DC:45:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -56
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl1

wl2       ESSID: minet_ready
          Access Point: 7A:11:DC:55:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl2

wl3       ESSID: HT_AP2
          Access Point: 7A:11:DC:65:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl3
```

## 6.ç½‘å£ä¿¡æ¯

```bash
root@XiaoQiang:~# ifconfig
br-lan    Link encap:Ethernet  HWaddr 78:11:DC:45:91:67  
          inet addr:192.168.31.1  Bcast:192.168.31.255  Mask:255.255.255.0
          inet6 addr: fe80::7a11:dcff:fe45:9167/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3579 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8129 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:2226901 (2.1 MiB)  TX bytes:1081606 (1.0 MiB)

eth0      Link encap:Ethernet  HWaddr 78:11:DC:45:91:67  
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:6 errors:0 dropped:0 overruns:0 frame:0
          TX packets:6030 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:540 (540.0 B)  TX bytes:298725 (291.7 KiB)
          Interrupt:3 

eth1      Link encap:Ethernet  HWaddr 78:11:DC:45:91:68  
          inet6 addr: fe80::7a11:dcff:fe45:9168/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:476 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:195856 (191.2 KiB)

ifb0      Link encap:Ethernet  HWaddr 82:C1:06:F7:27:59  
          inet6 addr: fe80::80c1:6ff:fef7:2759/64 Scope:Link
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:32 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:9157 errors:0 dropped:0 overruns:0 frame:0
          TX packets:9157 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:1373710 (1.3 MiB)  TX bytes:1373710 (1.3 MiB)

wl0       Link encap:Ethernet  HWaddr 78:11:DC:45:91:6A  
          inet6 addr: fe80::7a11:dcff:fe45:916a/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:24 

wl1       Link encap:Ethernet  HWaddr 78:11:DC:45:91:69  
          inet6 addr: fe80::7a11:dcff:fe45:9169/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3953 errors:3 dropped:0 overruns:0 frame:0
          TX packets:2503 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2583165 (2.4 MiB)  TX bytes:808670 (789.7 KiB)
          Interrupt:4 

wl2       Link encap:Ethernet  HWaddr 7A:11:DC:55:91:69  
          inet addr:169.254.29.1  Bcast:169.254.29.255  Mask:255.255.255.0
          inet6 addr: fe80::7811:dcff:fe55:9169/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
```

## 7.PCIè®¾å¤‡

```bash
root@XiaoQiang:~# lspci
00:00.0 Class 0604: 0e8d:0801
00:01.0 Class 0604: 0e8d:0801
01:00.0 Class 0280: 14c3:7603
02:00.0 Class 0280: 14c3:7662
```


# ä¸ƒã€é™„ä»¶

æœ¬æ–‡ä½¿ç”¨åˆ°çš„è½¯ä»¶åŒ…å·²ä¸Šä¼ ç½‘ç›˜ï¼š[BlogDocs->files->router-xiaomi-r3g-exploit](https://pan.baidu.com/s/1yEbHDQBzy43uV8gIYXqbnw?pwd=6666#list/path=%2Fsharelink2076919717-858150382706250%2Ffiles%2Frouter-xiaomi-r3g-exploit)


