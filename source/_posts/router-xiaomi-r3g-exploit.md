---
title: å°ç±³R3Gè·¯ç”±å™¨åˆ·æœºæ•™ç¨‹
date: 2025-11-20 18:39:43
categories: ['OpenWrt', 'Xiaomi', 'R3G']
tags: ['OpenWrt', 'Xiaomi', 'R3G', 'exploit']
---

# ä¸€ã€è·¯ç”±å™¨ç¡¬ä»¶

Xiaomi Mi Router 3G (R3G)ç¡¬ä»¶ä¿¡æ¯æ±‡æ€»:

ğŸ“¶ è·¯ç”±å™¨ä¿¡æ¯ï¼š
- è·¯ç”±å™¨å‹å· ï¼šå°ç±³è·¯ç”±å™¨3G(R3G)
- ç³»ç»ŸROMç‰ˆæœ¬: MiWiFi ç¨³å®šç‰ˆ 2.28.44

ğŸš€ å¤„ç†å™¨ (CPU)
- å‹å·: MT7621 SoC
- æ¶æ„: MIPS 1004Kc V2.15
- æ ¸å¿ƒæ•°: 4æ ¸å¿ƒ (2ä¸ªç‰©ç†æ ¸å¿ƒï¼Œæ¯ä¸ªæ ¸å¿ƒ2ä¸ªè™šæ‹Ÿå¤„ç†å™¨VPE)
- é¢‘ç‡: çº¦580MHz (åŸºäºBogoMIPSä¼°ç®—)
- ç‰¹æ€§: æ”¯æŒMIPS16ã€DSPã€å¤šçº¿ç¨‹

ğŸ’¾ å†…å­˜ (RAM)
- æ€»å®¹é‡: 253MB (çº¦256MB)
- å¯ç”¨å†…å­˜: 150MB
- ç±»å‹: DDR3
- æ— äº¤æ¢åˆ†åŒº

ğŸ’¿ å­˜å‚¨ (Flash)
- æ€»é—ªå­˜: çº¦128MB NAND Flash
- åˆ†åŒºå¸ƒå±€:
    - Bootloader: 512KB
    - é…ç½®åŒº: 256KB Ã— 3
    - å†…æ ¸: 4MB Ã— 2 (åŒå¤‡ä»½)
    - æ ¹æ–‡ä»¶ç³»ç»Ÿ: 32MB Ã— 2 (åŒå¤‡ä»½)
    - æ•°æ®åŒº: 53MB

ğŸ“¡ æ— çº¿ç½‘ç»œ (WiFi)
åŒé¢‘å¹¶å‘ï¼š

- 2.4GHz (wl1): MT7603EN èŠ¯ç‰‡
    - é€Ÿç‡: 144Mbps
    - å‘å°„åŠŸç‡: 19dBm
    - é¢‘é“: 2 (2.417GHz)

- 5GHz (wl0): MT7612EN èŠ¯ç‰‡
    - é€Ÿç‡: 867Mbps
    - å‘å°„åŠŸç‡: 16dBm
    - é¢‘é“: 149 (5.745GHz)

ğŸ”Œ æœ‰çº¿ç½‘ç»œ
- WANå£: eth1 (192.168.1.129)
- LANå£: br-lan (192.168.31.1/24)
- äº¤æ¢æœº: MT7530 å†…ç½®

ğŸ”§ PCIè®¾å¤‡
- 00:00.0 - MT7621 ç³»ç»Ÿæ¡¥æ¥
- 00:01.0 - MT7621 PCIeæ¡¥æ¥
- 01:00.0 - MT7603EN 2.4GHzæ— çº¿èŠ¯ç‰‡
- 02:00.0 - MT7612EN 5GHzæ— çº¿èŠ¯ç‰‡


# äºŒã€å›ºä»¶è¯¦æƒ…

> æµè§ˆå™¨è®¿é—®ï¼š`http://192.168.31.1/cgi-bin/luci/;stok=ä½ çš„STOK/api/xqsystem/check_rom_update` è·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ã€‚
> å®˜ç½‘ä¸‹è½½åœ°å€ï¼š`https://bigota.miwifi.com/xiaoqiang/rom/r3g/å›ºä»¶æ–‡ä»¶å`

## 2.1. å›ºä»¶åˆ—è¡¨

> åŒä¸€ä¸ªå¤§ç‰ˆæœ¬ä¹‹é—´å¯ä»¥é€šè¿‡ç®¡ç†åå°é™çº§ï¼Œæ¯”å¦‚2.28.44å¯ä»¥é™çº§åˆ°2.28.24ã€‚

| å›ºä»¶æ–‡ä»¶å | ç±»åˆ« | ç‰ˆæœ¬ |  MD5 | å‘å¸ƒæ—¥æœŸ |
| :-----: | :-----: | :----: | :----: | :----: |
| miwifi_r3g_firmware_26d93_2.28.24.bin | ç¨³å®šç‰ˆ | 2.28.24 | e6c7057e65b0f4313992f0ac5e626d93 | 2023-02-04(å¯èƒ½) |
| miwifi_r3g_firmware_9be74_2.28.44.bin | ç¨³å®šç‰ˆ | 2.28.44 | ad0335eb70b3ae308a9e69c29949be74 | 2019-10-21 |
| miwifi_r3g_firmware_12f97_2.25.124.bin | å¼€å‘ç‰ˆ | 2.25.124 | c1501c245aca04018fd065284d012f97 | 2018-10-30 |

------

## 2.2. MTDå¤‡ä»½

| å›ºä»¶æ–‡ä»¶å | MTDå¤‡ä»½ | MTDå¤‡ä»½MD5 |
| :-----: | :----: | :----: |
| miwifi_r3g_firmware_9be74_2.28.44.bin | å°ç±³è·¯ç”±å™¨R3G-ROM2.28.44-MTDå¤‡ä»½.zip | b65f2540dea3af4c9a73212953be51de |

## 2.3. ROMé™çº§

- åŒä¸€ä¸ªå¤§ç‰ˆæœ¬ä¹‹é—´å¯ä»¥é€šè¿‡ç®¡ç†åå°é™çº§ã€‚
- Uç›˜åˆ·æœºé™çº§ï¼š

1.è¯·ç¡®å®šå·²çŸ¥æ™“ç”¨hdk/allåŒ…åˆ·æœºä¼šæ ¼å¼åŒ–ç¡¬ç›˜ï¼ˆè¯·ä»”ç»†é˜…è¯»æ­¥éª¤ä¸€çš„æ³¨æ„äº‹é¡¹ï¼‰ï¼›

2.å‡†å¤‡ç³»ç»Ÿæ ¼å¼ä¸ºFATæˆ–FAT32çš„Uç›˜ä¸€ä¸ªï¼ˆå¯åœ¨Uç›˜å±æ€§ä¸­æŸ¥çœ‹ï¼‰ï¼›

3.å°†ä¸‹è½½çš„ROMåŒ…å¤åˆ¶åˆ°Uç›˜çš„æ ¹ç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºmiwifi.bin ï¼ŒåŒæ—¶ç¡®ä¿è¯¥ç›®å½•ä¸‹ä¸å­˜åœ¨å…¶å®ƒâ€œ.binâ€æ–‡ä»¶ï¼Œè‹¥å­˜åœ¨ä¼šå¯¼è‡´åˆ·æœºå¤±è´¥ï¼›

4.æ–­å¼€å°ç±³è·¯ç”±å™¨çš„ç”µæºï¼Œå°†Uç›˜æ’å…¥è·¯ç”±å™¨USBæ¥å£ï¼›

5.æŒ‰ä½reseté”®ï¼Œæ¥é€šç”µæºï¼Œç­‰å¾…æŒ‡ç¤ºç¯å˜ä¸ºé»„è‰²é—ªçƒçŠ¶æ€åæ¾å¼€reseté”®ï¼Œè·¯ç”±å™¨å¼€å§‹åˆ·æœºï¼›

6.ç­‰å¾…åˆ·æœºå®Œæˆï¼Œæ•´ä¸ªè¿‡ç¨‹çº¦ä¸º3-5åˆ†é’Ÿï¼Œå®Œæˆåç³»ç»Ÿä¼šè‡ªåŠ¨é‡å¯ã€‚è·¯ç”±å™¨æŒ‡ç¤ºç¯å˜è“åˆ·æœºå®Œæˆï¼›å¦‚æœå‡ºç°å¼‚å¸¸ã€å¤±è´¥ã€Uç›˜æ— æ³•è¯»å–çš„çŠ¶å†µï¼Œä¼šè¿›å…¥çº¢ç¯çŠ¶æ€ï¼Œå»ºè®®é‡è¯•æˆ–æ›´æ¢Uç›˜å†è¯•ã€‚

è¯·æŸ¥çœ‹å®˜æ–¹æ•™ç¨‹ => [ã€è·¯ç”±åˆ·æœºæ•™ç¨‹ã€‘é€‚ç”¨äºå¸¦USBçš„å°ç±³è·¯ç”±](https://web.vip.miui.com/page/info/mio/mio/detail?postId=19154125&app_version=dev.20051)


# ä¸‰ã€è·å–SSH

ä»¥ä¸‹æ˜¯é€‚ç”¨ä¸‰æ–¹æ–¹æ¡ˆçš„å›ºä»¶åˆ—è¡¨ï¼š
| å›ºä»¶æ–‡ä»¶å | å¯å¦è·å–ssh |
| :-----: | :-----: |
| miwifi_r3g_firmware_26d93_2.28.24.bin | æ˜¯ |
| miwifi_r3g_firmware_9be74_2.28.44.bin | æ˜¯ |
| miwifi_r3g_firmware_12f97_2.25.124.bin | æ˜¯ |


## 1. å®˜æ–¹æ–¹æ¡ˆ

> æ³¨æ„ 2.28.44 ç¨³å®šç‰ˆã€2.25.124 å¼€å‘ç‰ˆæ˜¯å¯ä»¥äº’åˆ·çš„ã€‚
> å…ˆé€šè¿‡ç®¡ç†åå°åˆ·å…¥å®˜æ–¹å¼€å‘ç‰ˆROM(å°±æ˜¯æ‰‹åŠ¨ç³»ç»Ÿå‡çº§)ï¼ŒROMä¸‹è½½é“¾æ¥åœ¨è¿™é‡Œ [R3G_ROM](https://bigota.miwifi.com/xiaoqiang/rom/r3g/miwifi_r3g_firmware_12f97_2.25.124.bin)ã€‚
> è¿™æ˜¯å®˜æ–¹ä¸‹è½½é¡µ [MiWiFi ROMä¸‹è½½](https://www1.miwifi.com/miwifi_download.html)ï¼Œå¯ä»¥è‡ªå·±æ‰¾;

1) å…ˆé€šè¿‡ç±³å®¶æˆ–è€…å°ç±³WiFi APP ç»‘å®šè¿™å°è·¯ç”±å™¨ã€‚
2) è®¿é—® [MiWiFi SSH](https://d.miwifi.com/rom/ssh) é¡µé¢ï¼Œç™»å½•å°ç±³è´¦å·ï¼Œåœ¨å¯¹åº”çš„å°ç±³è·¯ç”±å™¨3Gåé¢æœ‰rootå¯†ç å’Œå·¥å…·åŒ…ã€‚
3) æŒ‰å®˜æ–¹çš„æç¤ºæ“ä½œå³å¯ï¼š
    - è¯·å°†ä¸‹è½½çš„å·¥å…·åŒ…binæ–‡ä»¶å¤åˆ¶åˆ°Uç›˜ï¼ˆFAT/FAT32æ ¼å¼ï¼‰çš„æ ¹ç›®å½•ä¸‹ï¼Œä¿è¯æ–‡ä»¶åä¸º `miwifi_ssh.bin`ï¼›
    - æ–­å¼€å°ç±³è·¯ç”±å™¨çš„ç”µæºï¼Œå°†Uç›˜æ’å…¥USBæ¥å£ï¼›
    - æŒ‰ä½resetæŒ‰é’®ä¹‹åé‡æ–°æ¥å…¥ç”µæºï¼ŒæŒ‡ç¤ºç¯å˜ä¸ºé»„è‰²é—ªçƒçŠ¶æ€å³å¯æ¾å¼€reseté”®ï¼›
    - ç­‰å¾…3-5ç§’åå®‰è£…å®Œæˆä¹‹åï¼Œå°ç±³è·¯ç”±å™¨ä¼šè‡ªåŠ¨é‡å¯ï¼Œä¹‹åæ‚¨å°±å¯ä»¥å°½æƒ…æŠ˜è…¾å•¦ ï¼šï¼‰

## 2. ä¸‰æ–¹æ–¹æ¡ˆ1

1) ä¸‹è½½ [2022-R4A_V2åˆ·æœºå·¥å…·](https://pan.baidu.com/s/1yEbHDQBzy43uV8gIYXqbnw?pwd=6666#list/path=%2Fsharelink2076919717-858150382706250%2Ffiles%2Frouter-xiaomi-r3g-exploit) ã€‚
2) åœ¨Windowsç³»ç»Ÿä¸­è§£å‹å¹¶åŒå‡»è¿è¡Œ `2022-R4A_V2åˆ·æœºå·¥å…·` ç›®å½•ä¸‹çš„ `1.V1ç‰ˆå¼€Telnet.bat` ã€‚
3) åœ¨å¼¹å‡ºçš„çª—å£ï¼Œè¾“å…¥å›è½¦ï¼Œç„¶åè¾“å…¥è·¯ç”±å™¨åå°ç®¡ç†åœ°å€(é»˜è®¤ä¸€èˆ¬æ˜¯`192.168.31.1`), ç„¶åè¾“å…¥è·¯ç”±å™¨ç®¡ç†å¯†ç ã€‚ç¨‹åºä¼šè‡ªåŠ¨æ‰“å¼€sshã€‚

4) æç¤ºè·å¾—sshæˆåŠŸåï¼Œè¿˜éœ€è¦å›ºåŒ–, ç¼–è¾‘ `vi /etc/rc.local` åŠ å…¥ä¸‹é¢çš„å†…å®¹ï¼š
```bash
/usr/sbin/bdata set telnet_en=1 && /usr/sbin/bdata commit && /etc/init.d/telnet start &
```
æœ€ç»ˆæ•ˆæœå®ä¾‹, æ‰§è¡ŒæŸ¥çœ‹å‘½ä»¤ `cat /etc/rc.local` è¾“å‡ºï¼š
```bash
# restore phy config
speed=$(uci -q get xiaoqiang.common.WAN_SPEED)
[ -n "$speed" ] && /usr/sbin/phyhelper swan "$speed"

bdata set telnet_en=1 && bdata commit && /etc/init.d/telnet start

exit 0
```

5) æˆäºˆ `/etc/rc.local` æ–‡ä»¶å¯æ‰§è¡Œæƒé™:
```bash
chmod +x /etc/rc.local

# ä½ è¦éªŒè¯çš„åŒ–å°±é‡å¯è·¯ç”±å™¨
reboot
```
6) éªŒè¯æ•ˆæœ, å¦‚æœæç¤ºç™»å½•æç¤ºï¼Œåˆ™è¯´æ˜å›ºåŒ–æˆåŠŸäº†

```bash
# ç™»å½•ssh
telnet 192.168.31.1
```

7) ä½ æƒ³å›ºåŒ–sshçš„è¯ï¼Œè¯·æŒ‰å¦‚ä¸‹æ­¥éª¤æ“ä½œï¼š
    - æ‹·è´ `/tmp/dropbear` åˆ° `/etc/dropbear/dropbear` , å‘½ä»¤ï¼š `mv /tmp/dropbear /etc/dropbear/dropbear`
    - ç¼–è¾‘ `/etc/rc.local`, åŠ å…¥å†…å®¹ï¼š`/etc/dropbear/dropbear -p 22`

## 3. ä¸‰æ–¹æ–¹æ¡ˆ2

> å‡å¦‚é¡¹ç›®æ²¡æœ‰æˆåŠŸï¼Œè®°å¾—ç”¨`dos2unix`å‘½ä»¤æŠŠdataç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ ¼å¼ä¸€ä¸‹: `dos2unix *`

- å‰å¾€ä¸‹è½½Gité¡¹ç›® [xmir-patcher](https://github.com/openwrt-xiaomi/xmir-patcher.git) ã€‚
- æ‰§è¡Œé¡¹ç›®ä¸‹çš„ `run.bat`ï¼Œæ ¹æ®æç¤ºæ“ä½œå³å¯, è¿™ä¸ªç‰ˆæœ¬ä¼šè‡ªåŠ¨å›ºåŒ– SSHã€‚

------

**ï¼ï¼ï¼å¦‚æœä½ åªæƒ³è·å–åˆ°sshï¼Œæ‰€æœ‰æ“ä½œå°±å¯ä»¥æ­¢æ­¥äºæ­¤äº†ï¼ï¼ï¼**

------

# å››ã€åˆ·å…¥ä¸‰æ–¹å›ºä»¶

## 4.1. å¤‡ä»½å®˜æ–¹uboot

**!!!å¤‡ä»½å®˜æ–¹ubooté˜²æ­¢æ“ä½œå¤±è´¥å˜ç –!!!**

> å¯¹ R3G æ•‘ç –æ¥è¯´ï¼Œæ ¸å¿ƒä¾èµ–ã€Œuboot ç›¸å…³ 1 ä¸ªåˆ†åŒº + Factory åˆ†åŒºã€ã€‚
> å…¶ä½™åˆ†åŒºå¤§å¤šå¯é€šè¿‡å®˜æ–¹å›ºä»¶è‡ªåŠ¨é‡å»ºï¼Œéæ•‘ç –å¿…éœ€ã€‚
> mtd1ã€mtd4 éœ€è¦ï¼Œmtd3 åˆ†åŒºå¯é€‰ã€‚

1.ä½¿ç”¨ä¸Šæ–‡çš„`xmir-patcher`å·¥å…·ç®±å³æœ‰å¤‡ä»½MTDåˆ†åŒºçš„å·¥å…·ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½åˆ°`backups`ç›®å½•ä¸‹ã€‚

2.æ‰‹åŠ¨å¤‡ä»½åˆ†åŒº(mtd1ã€mtd4ã€mtd3)ï¼š
```bash
# å¤‡ä»½å®˜æ–¹uboot
dd if=/dev/mtd1 of=/tmp/mtd1_Bootloader.bin

# å› ä¸ºå°ç±³å®˜æ–¹ç³»ç»Ÿå¯¹ mtd4(Factory) åˆ†åŒºåšäº†ã€Œæƒé™é™åˆ¶ + ç¡¬ä»¶ä¿æŠ¤ã€,æ‰€ä»¥å†å¤‡ä»½ä¸€ä¸ªæ ¡éªŒç”¨æ–‡ä»¶
dd if=/dev/mtd3 of=/tmp/mtd3_Bdata.bin
dd if=/dev/mtd3 of=/tmp/mtd3_Bdata_verify.bin

# å·¥å‚æ ¡å‡†åˆ†åŒºï¼ŒåŒ…å« MAC åœ°å€ã€æ— çº¿å°„é¢‘ï¼ˆWiFiï¼‰æ ¡å‡†å‚æ•°ã€ä»¥å¤ªç½‘ç«¯å£å‚æ•°ç­‰ç¡¬ä»¶ä¸“å±æ•°æ®ã€‚
# è¿™äº›å‚æ•°æ˜¯å‡ºå‚æ—¶å†™å…¥çš„ï¼Œç‹¬ä¸€æ— äºŒï¼Œä¸¢å¤±ä¼šå¯¼è‡´ WiFi ä¿¡å·å¼‚å¸¸ã€ç½‘å£å¤±æ•ˆç­‰ç¡¬ä»¶åŠŸèƒ½æ•…éšœã€‚
dd if=/dev/mtd4 of=/tmp/mtd4_Factory.bin
dd if=/dev/mtd4 of=/tmp/mtd4_Factory_verify.bin

# æ ¡éªŒå¤‡ä»½æ˜¯å¦æ­£ç¡®
mtd verify /tmp/mtd1_Bootloader.bin /dev/mtd1

# æ ¡éªŒä¸¤ä¸ªæ–‡ä»¶MD5æ˜¯å¦ç›¸åŒå³å¯
md5sum /tmp/mtd3_Bdata.bin
md5sum /tmp/mtd3_Bdata_verify.bin

# æ ¡éªŒä¸¤ä¸ªæ–‡ä»¶MD5æ˜¯å¦ç›¸åŒå³å¯
md5sum /tmp/mtd4_Factory.bin
md5sum /tmp/mtd4_Factory_verify.bin

# åˆ é™¤æ ¡éªŒæ–‡ä»¶
rm /tmp/mtd3_Bdata_verify.bin
rm /tmp/mtd4_Factory_verify.bin
```

3.ç„¶åæƒ³åŠæ³•ä¸‹è½½è¿™äº›å¤‡ä»½æ–‡ä»¶å³å¯ï¼Œæ¨èå®‰è£…ftpå·¥å…·ä¸‹è½½ï¼


## 4.2. åˆ·å…¥Breed

> å°ç±³4Aåƒå…†ç‰ˆ: breed-mt7621-pbr-m1.bin
> å°ç±³3G å’Œ å°ç±³4: breed-mt7621-xiaomi-r3g.bin
> å°ç±³3Aï¼Œ3Cï¼Œ4Aç™¾å…†ç‰ˆï¼Œ4C: breed-mt7688-reset38.bin

1. ä¸‹è½½[breed-mt7621-xiaomi-r3g.bin](https://breed.hackpascal.net/breed-mt7621-xiaomi-r3g.bin) ï¼Œé‡å‘½åä¸ºbreed.binï¼Œå¹¶ä¸Šä¼ åˆ°è·¯ç”±å™¨`/tmp`ç›®å½•ä¸‹ã€‚

```text
# æ ¡éªŒmd5ï¼Œè¾“å‡º e65d388129a6d1ac39abf99329f1978b
md5sum breed.bin 

# è¿™ä¸ªå‘½ä»¤åº”è¯¥ä¹Ÿå¯ä»¥ï¼šmtd write /tmp/breed.bin /dev/mtd1 ã€‚
mtd write /tmp/breed.bin Bootloader

# æ ¡éªŒæ˜¯å¦å†™å…¥æˆåŠŸ
mtd verify /tmp/breed.bin Bootloader
```

4.æ‹”å‡ºç”µæºçº¿æ–­ç”µå…³æœºã€‚ç”¨ç‰™ç­¾æŒ‰ä½ `RESET` é‡ç½®é”®é€šç”µ10ç§’ï¼Œçœ‹åˆ°è“ç¯é—ªçƒï¼Œæ¾å¼€æŒ‰é”®è¿›å…¥`breed`æ§åˆ¶å°ã€‚

5.æ­¤æ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥[http://192.168.1.1](http://192.168.1.1)è®¿é—®æ§åˆ¶å°ã€‚
{% asset_img breed-web-1.2.png Breed Web æ§åˆ¶å° %}

6.ç‚¹å‡»å›ºä»¶å¤‡ä»½ï¼Œå°†æ‰€æœ‰æ–‡ä»¶éƒ½ä¸‹è½½åˆ°æœ¬åœ°å¤‡ä»½ï¼š
{% asset_img backup-bin-data.png å¤‡ä»½å›ºä»¶ %}


## 4.3. åˆ·å…¥Pandavan

> Pandavan ç³»ç»Ÿå¾ˆç®€å•ï¼Œæ“ä½œä¼˜åŒ–åº¦å¾ˆé«˜ã€‚ä½†æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè²Œä¼¼UPnPä¸èƒ½å·¥ä½œã€‚
> https://github.com/hanwckf/padavan-4.4/tree/main
> https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=4062148&highlight=3G%2Bpadavan
> æ¨èå®‰è£…è¿™ä¸ªï¼š https://opt.cn2qq.com/padavan/MI-R3G_3.4.3.9-099.trx


1.é€‰æ‹©æ¢å¤å‡ºå‚è®¾ç½®ï¼Œå›ºä»¶ç±»å‹é€‰æ‹©åŸå‚(å°ç±³R3GåŸå‚)ï¼Œç‚¹å‡»æ‰§è¡Œã€‚
{% asset_img reset-router.png æ¢å¤å‡ºå‚è®¾ç½® %}

2.åœ¨`Breed Web æ¢å¤æ§åˆ¶å°` çš„`å›ºä»¶æ›´æ–°`ä¸­ä¸Šä¼ å›ºä»¶ï¼Œå¹¶é€‰æ‹©è‡ªåŠ¨é‡å¯ï¼Œåˆ·å…¥`Pandavan`å›ºä»¶ã€‚
{% asset_img write-pandavan-trx.png åˆ·å…¥Pandavan %}

æ›´æ–°ç¡®è®¤ä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»æ›´æ–°ï¼š
{% asset_img write-pandavan-trx-confirm.png åˆ·å…¥Pandavanæ›´æ–°ç¡®è®¤ %}

æ›´æ–°ä¸­ï¼š
{% asset_img write-os-ing.png åˆ·å…¥Pandavanæ›´æ–°ä¸­ %}

æ›´æ–°å®Œæˆï¼š
{% asset_img write-pandavan-trx-confirm-ok.png åˆ·å…¥Pandavanæ›´æ–°å®Œæˆ %}

3.æµè§ˆå™¨ä¸­è¿›å…¥è¯¥å›ºä»¶é»˜è®¤ç®¡ç†åå°é¡µé¢ï¼š[http://192.168.1.1](http://192.168.1.1)ï¼Œè´¦å·ï¼šadminï¼Œå¯†ç ï¼šadmin.

4.è¿›å…¥`ç³»ç»Ÿç®¡ç†`é€‰æ‹©`é…ç½®ç®¡ç†`,ä¾æ¬¡é€‰æ‹©`è·¯ç”±å™¨è®¾ç½®`å’Œ`è·¯ç”±å™¨å†…éƒ¨å­˜å‚¨`çš„`æ¢å¤å‡ºå‚æ¨¡å¼`ã€‚
{% asset_img reset-pandavan-system.png æ¢å¤å‡ºå‚æ¨¡å¼ %}

å¯åŠ¨åä¸€å®šè¦åŒæ¸…ä¸€æ¬¡ ä»¥å…å’Œä½ ä¹‹å‰ç‰ˆæœ¬å†²çªèµ·BUGï¼Œè‡³æ­¤å®Œæˆåˆ·æœºï¼

## 4.2. åˆ·å…¥LEDE(æ¨è)

> è¿™ä¸ªç‰ˆæœ¬å¸¦çŸ­ä¿¡åŠŸèƒ½ã€ç§‘å­¦ä¸Šç½‘ã€ç½‘ç»œå”¤é†’
> LEDE_R3G_2025_9_20_20_49
> OpenWrt R25.11.30
> MI-R3G_4.4.3.9-198-1100.trx

1.é€‰æ‹©æ¢å¤å‡ºå‚è®¾ç½®ï¼Œå›ºä»¶ç±»å‹é€‰æ‹©åŸå‚(å°ç±³R3GåŸå‚)ï¼Œç‚¹å‡»æ‰§è¡Œã€‚
{% asset_img reset-router.png æ¢å¤å‡ºå‚è®¾ç½® %}


2.ç„¶åè¿›breed é€‰æ‹©openwrtå›ºä»¶æ ¼å¼ï¼Œé€‰æ‹©kernel1 å’Œrootfs0è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ·å…¥å³å¯


https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=8446438&extra=page%3D1&page=1

## 4.3. åˆ·å…¥OpenWrt

> opkg install luci-theme-argon è¿™ä¸ªä¸»é¢˜è¿˜ä¸é”™ï¼

### 4.3.1. ä¸‹è½½å›ºä»¶

1.ä¸‹è½½å›ºä»¶æœ€æ–°å›ºä»¶24.10.4ï¼š
[openwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin](https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/openwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin)
[openwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin](https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/openwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin)

2.åˆ·å…¥è·¯ç”±å™¨

3.ç™»å½•åå°[http://192.168.1.1](http://192.168.1.1)é…ç½®è·¯ç”±å™¨ã€‚

### 4.3.2. ä¿®æ”¹è½¯ä»¶æº

1.è¿›å…¥èœå•`System` => `Software` é¡µé¢ï¼Œåœ¨ `Actions` æ ä¸‹ç‚¹å‡» `Configure opkg` ã€‚åœ¨å¼¹å‡ºçš„é…ç½®æ¡†ä¸­ç¬¬ä¸‰æ `/etc/opkg/distfeeds.conf`æ”¹ä¸ºå¦‚ä¸‹è½¯ä»¶æºé…ç½®ï¼š
```txt
src/gz openwrt_core https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/packages
# åŸºç¡€è½¯ä»¶åŒ…
src/gz openwrt_base https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/base
# å†…æ ¸æ¨¡å—ï¼ˆéœ€ä¸å†…æ ¸ç‰ˆæœ¬å®Œå…¨åŒ¹é…ï¼‰
src/gz openwrt_kmods https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/kmods/6.6.110-1-ae7dcdf01cb63b83c64f5cb8d8960511
# LuCI ç½‘é¡µç®¡ç†ç•Œé¢
src/gz openwrt_luci https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/luci
# æ‰©å±•è½¯ä»¶åŒ…
src/gz openwrt_packages https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/packages
# è·¯ç”±ç›¸å…³è½¯ä»¶ï¼ˆå¦‚ OpenVPNã€FRR ç­‰ï¼‰
src/gz openwrt_routing https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/routing
# ç”µè¯ç›¸å…³è½¯ä»¶
src/gz openwrt_telephony https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/telephony
```
ç„¶åç‚¹å‡»`Save` ä¿å­˜ã€‚
{% asset_img change-opkg-config.png ä¿®æ”¹è½¯ä»¶æº %}

2. ç„¶åå†ç‚¹å‡» `Update lists...` æ›´æ–°è½¯ä»¶æºã€‚
{% asset_img update-opkg-list.png æ›´æ–°è½¯ä»¶æº %}

3.æ˜¾ç¤ºå¦‚ä¸‹å³ä¸ºæˆåŠŸï¼š
{% asset_img update-opkg-ok.png æ›´æ–°è½¯ä»¶æºæˆåŠŸ %}

4.å‘½ä»¤è¡Œæ–¹å¼ï¼š
```
# å¤‡ä»½è½¯ä»¶æº
cp /etc/opkg/distfeeds.conf /etc/opkg/distfeeds.conf.bak

# æ›¿æ¢è½¯ä»¶æº
cat > /etc/opkg/distfeeds.conf <<EOF
src/gz openwrt_core https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/packages
# åŸºç¡€è½¯ä»¶åŒ…
src/gz openwrt_base https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/base
# å†…æ ¸æ¨¡å—ï¼ˆéœ€ä¸å†…æ ¸ç‰ˆæœ¬å®Œå…¨åŒ¹é…ï¼‰
src/gz openwrt_kmods https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/targets/ramips/mt7621/kmods/6.6.110-1-ae7dcdf01cb63b83c64f5cb8d8960511
# LuCI ç½‘é¡µç®¡ç†ç•Œé¢
src/gz openwrt_luci https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/luci
# æ‰©å±•è½¯ä»¶åŒ…
src/gz openwrt_packages https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/packages
# è·¯ç”±ç›¸å…³è½¯ä»¶ï¼ˆå¦‚ OpenVPNã€FRR ç­‰ï¼‰
src/gz openwrt_routing https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/routing
# ç”µè¯ç›¸å…³è½¯ä»¶
src/gz openwrt_telephony https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/24.10.4/packages/mipsel_24kc/telephony
EOF

# æ›´æ–°è½¯ä»¶æº
opkg update
```

### 4.3.2. å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…

1.è¿›å…¥èœå•`System` => `Software` é¡µé¢ï¼Œåœ¨ `Filter` æ ä¸‹è¾“å…¥ `luci-i18n-base-zh-cn` ï¼Œåœ¨åˆ—å‡ºçš„è½¯ä»¶åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»è¯­è¨€åŒ…å³ä¾§çš„`Intsall` å®‰è£…ã€‚

2.å†å¼¹å‡ºç¡®è®¤æ¡†ä¸­ï¼Œå‹¾é€‰ `Allow overwriting conflicting package files` å…è®¸è¦†ç›–å†²çªçš„åŒ…æ–‡ä»¶, å†ç‚¹å‡»`Install` å®‰è£…ï¼Œç„¶ååˆ·æ–°ç³»ç»Ÿé¡µé¢å³å¯ã€‚

3.å‘½ä»¤è¡Œæ–¹å¼ï¼š
```bash
opkg update && opkg install luci-i18n-base-zh-cn
```

### 4.3.3. å®‰è£…ç»ˆç«¯

1.é€šè¿‡èœå•`ç³»ç»Ÿ` => `è½¯ä»¶åŒ…` é¡µé¢ï¼Œå®‰è£…`luci-app-ttyd`ã€`luci-i18n-ttyd-zh-cn`ã€‚

2.å‘½ä»¤è¡Œæ–¹å¼ï¼š
```
opkg update && opkg install luci-app-ttyd luci-i18n-ttyd-zh-cn
```

### 4.3.4. å®‰è£…USBç½‘å¡é©±åŠ¨

> USBè®¾å¤‡æ˜¯HP-UF20éšæ—¶WiFi

é€šè¿‡èœå•`æœåŠ¡` => `ç»ˆç«¯` é¡µé¢ï¼Œç™»å½•OpenWrtç³»ç»Ÿã€‚

```bash
#æŸ¥çœ‹USBè®¾å¤‡
lsusb | grep Mobile
```
è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š
```txt
Bus 001 Device 002: ID 19d2:1225 SZXF,Incorporated SZXF Mobile Boardband
```

```bash
# usbutils: USBå·¥å…·ç®±
# usb-modeswitch: USBæ¨¡å¼åˆ‡æ¢å·¥å…·
# kmod-usb-net-cdc-ether: USBç½‘å¡é©±åŠ¨
opkg install usbutils usb-modeswitch kmod-usb-net-cdc-ether

# ç­‰å¾…10ç§’
sleep 10
```

å†æ¬¡æŸ¥çœ‹USBè®¾å¤‡:
```bash
lsusb | grep Mobile
```
è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š
```txt
Bus 001 Device 013: ID 19d2:1557 SZXF,Incorporated SZXF Mobile Boardband
```
æ˜¾ç¤º `19d2:1557` ï¼Œè¡¨æ˜USBæ¨¡å—åˆ‡æ¢æˆåŠŸï¼

æŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„è®¾å¤‡
```bash
ip addr show
#ip addr show eth1
```
è¾“å‡ºå¦‚ä¸‹ï¼š
```txt
8: eth1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP qlen 1000
    link/ether 34:4b:50:00:00:00 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::364b:50ff:fe00:0/64 scope link 
       valid_lft forever preferred_lft forever
```

å¯ç”¨ç½‘å£eth1:
```bash
ip link set eth1 up
```

æŸ¥çœ‹ç½‘ç»œä¿¡æ¯:
```bash
ifconfig eth1
```
è¾“å‡ºå¦‚ä¸‹ï¼š
```txt
eth1      Link encap:Ethernet  HWaddr 34:4B:50:00:00:00  
          inet6 addr: fe80::364b:50ff:fe00:0/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:14 errors:0 dropped:0 overruns:0 frame:0
          TX packets:5 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:728 (728.0 B)  TX bytes:526 (526.0 B)
```

### 4.3.5. é…ç½®USBç½‘å¡ç½‘ç»œ

1.è¿›å…¥èœå•`ç½‘ç»œ` => `æ¥å£` é¡µé¢ï¼Œæ·»åŠ æ–°æ¥å£: åç§°wan_usbã€åè®®DHCPå®¢æˆ·ç«¯ã€è®¾å¤‡æŒ‡å®šeth1;
{% asset_img add-inteface-wan-usb.png æ·»åŠ æ–°æ¥å£wan_usb %}

2.åœ¨æ¥ä¸‹æ¥çš„å¼¹çª—ä¸­ï¼Œé…ç½®é˜²ç«å¢™è®¾ç½®ï¼Œç‚¹å‡»`é˜²ç«å¢™è®¾ç½®`é€‰é¡¹å¡ï¼Œ åˆ›å»º/åˆ†é…é˜²ç«å¢™åŒºåŸŸæ é€‰æ‹© `wan` å£ã€‚
{% asset_img add-wan-usb-firewall.png æ›´æ–°è½¯ä»¶æºæˆåŠŸ %}

3.ç‚¹å‡»å·¦ä¸‹è§’çš„`ä¿å­˜å¹¶åº”ç”¨`ï¼Œåº”ç”¨æ‰€æœ‰æ”¹åŠ¨é¡¹ã€‚

4.ç¦ç”¨`wan`æ¥å£ï¼Œç‚¹å‡»`ç¼–è¾‘`ï¼Œç„¶åå¼¹çª—ä¸­ç‚¹å‡»`å¸¸è§„è®¾ç½®`çš„`ç¦ç”¨è¯¥æ¥å£`ã€‚

5.ç½‘ç»œè¯Šæ–­ï¼Œç‚¹å‡»èœå•`ç½‘ç»œ`=>`ç½‘ç»œè¯Šæ–­`ï¼Œ è¾“å…¥223.5.5.5ï¼Œç‚¹å‡»`IPv4Ping`, æŸ¥çœ‹ç½‘ç»œæ˜¯å¦æ‰“é€šã€‚
- å¦‚æœä¸é€šä¹…å»`ç½‘ç»œ` => `æ¥å£` é¡µé¢ä¸­ï¼Œé‡å¯ä¸€ä¸‹`wan_usb`ã€‚

6.æµ‹è¯•æ²¡æœ‰é—®é¢˜ä¹‹åï¼Œè°ƒæ•´æ¥å£çš„è·¯ç”±ä¼˜å…ˆçº§, å®ç°æµé‡ä¼˜å…ˆèµ°USBç½‘å¡ï¼š
- è§£é™¤ç¦ç”¨`wan`æ¥å£ã€‚
- ç‚¹å‡»`wan_usb`æ¥å£è¿™æ çš„`ç¼–è¾‘`ï¼Œç„¶åå¼¹çª—ä¸­ç‚¹å‡»`é«˜çº§è®¾ç½®`ï¼Œä¿®æ”¹`ç½‘å…³è·ƒç‚¹`å€¼ä¸º 100ã€‚
- ç‚¹å‡»`wan`æ¥å£è¿™æ çš„`ç¼–è¾‘`ï¼Œç„¶åå¼¹çª—ä¸­ç‚¹å‡»`é«˜çº§è®¾ç½®`ï¼Œä¿®æ”¹`ç½‘å…³è·ƒç‚¹`å€¼ä¸º 200ã€‚
- ç‚¹å‡»å·¦ä¸‹è§’çš„`ä¿å­˜å¹¶åº”ç”¨`ï¼Œåº”ç”¨æ‰€æœ‰æ”¹åŠ¨é¡¹ã€‚

## 4.4. åˆ·å…¥X-WRT

å¯¹USBç½‘å¡å¾ˆå‹å¥½ï¼Œä¸ç”¨å®‰è£…ä»€ä¹ˆé©±åŠ¨ï¼Œå¯¹æ–°æ‰‹ç›¸å¯¹å‹å¥½ï¼

1. æ”¯æŒå•çº¿å¤šæ‹¨å’Œè´Ÿè½½å‡è¡¡ï¼ˆä½¿ç”¨mwan3ï¼‰
2. é›†æˆäº†OpenVPNï¼Œå¯ä¸€é”®éƒ¨ç½²OpenVPN/PPTPæœåŠ¡
3. æ”¯æŒè½¯ä»¶è½¬å‘åŠ é€Ÿï¼ŒMT7621/MT7622/M798xè®¾å¤‡æ”¯æŒç¡¬ä»¶è½¬å‘
4. ç”¨æˆ·æµé‡ç»Ÿè®¡åŠŸèƒ½å’ŒQoSåŠŸèƒ½
5. æ”¯æŒURLæ—¥å¿—åŠŸèƒ½
6. æ”¯æŒç½‘ç«™è¿‡æ»¤åŸŸåè¿‡æ»¤åŠŸèƒ½ï¼ˆå®¶é•¿æ§åˆ¶ï¼‰
7. æä¾›UPNPåŠŸèƒ½å’Œå…¨é”¥å½¢NAT
8. é›†æˆDDNSï¼ŒåŒ…æ‹¬é˜¿é‡ŒDDNS
9. é›†æˆäº†ksmbdæ–‡ä»¶ç½‘ç»œå…±äº«å’Œaria2ä¸‹è½½å·¥å…·
10. æ”¯æŒUSB-4Gç½‘å¡
11. æä¾›è¿œç¨‹ç®¡ç†ç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·è¿›è¡Œè¿œç¨‹æ“ä½œ


### 4.3.1. ä¸‹è½½å›ºä»¶

1.ä¸‹è½½å›ºä»¶æœ€æ–°å›ºä»¶25.04-b20251120072ï¼š
[x-wrt-25.04-b202511200721-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin](https://downloads.x-wrt.com/rom/x-wrt-25.04-b202511200721-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin)
[x-wrt-25.04-b202511200721-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin](https://downloads.x-wrt.com/rom/x-wrt-25.04-b202511200721-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin)

2.åˆ·å…¥è·¯ç”±å™¨

3.ç™»å½•åå°[http://192.168.1.1](http://192.168.1.1)é…ç½®è·¯ç”±å™¨ã€‚

4.ä¿®æ”¹æ¥å£usbwançš„ç»‘å®šè®¾å¤‡ä¸ºeth1å°±è¡Œã€‚


## 4.5. åˆ·å…¥ImmortalWrt

1.ä¸‹è½½å›ºä»¶æœ€æ–°å›ºä»¶24.10.4ï¼š
[immortalwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin](https://mirrors.ustc.edu.cn/immortalwrt/releases/24.10.4/targets/ramips/mt7621/immortalwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-kernel1.bin)
[immortalwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin](https://mirrors.ustc.edu.cn/immortalwrt/releases/24.10.4/targets/ramips/mt7621/immortalwrt-24.10.4-ramips-mt7621-xiaomi_mi-router-3g-squashfs-rootfs0.bin)

2.åˆ·å…¥è·¯ç”±å™¨

3.ç™»å½•åå°[http://192.168.1.1](http://192.168.1.1)é…ç½®è·¯ç”±å™¨ã€‚

4.å‰©ä¸‹çš„å’ŒOpenwrtçš„ä¸€è‡´ã€‚



# äº”ã€è¿˜åŸå®˜æ–¹å›ºä»¶

> è¿˜åŸä¸è¦æ–­ç”µï¼ï¼ï¼

## 5.1. åŸºäºBreedè¿˜åŸ

> è¿™ä¸ªåŠæ³•ä¸‹ï¼Œbootleaderåˆ†åŒºè¿˜æ˜¯åŸºäºBreedçš„ã€‚ä½ éšæ—¶å¯ä»¥åˆ·å…¶ä»–å›ºä»¶

å¦‚æœä½ ä¹‹å‰åˆ·å…¥äº†`Breed 1.2`ç‰ˆæœ¬ï¼Œç›´æ¥ä½¿ç”¨`å›ºä»¶æ›´æ–°`=>`å¸¸è§„å›ºä»¶` å®ç°åˆ·å…¥å®˜æ–¹å›ºä»¶ã€‚
{% asset_img write-xiaomi-r3g-bin.png åˆ·å…¥å®˜æ–¹å›ºä»¶ %}

æ›´æ–°ç¡®è®¤ä¿¡æ¯æ— è¯¯åï¼Œç‚¹å‡»æ›´æ–°ã€‚
{% asset_img write-xiaomi-r3g-bin-confirm.png åˆ·å…¥å®˜æ–¹å›ºä»¶ %}

åˆ·å…¥å®˜æ–¹å›ºä»¶è¿›è¡Œä¸­ï¼š
{% asset_img write-xiaomi-r3g-bin-ing.png åˆ·å…¥å®˜æ–¹å›ºä»¶è¿›è¡Œä¸­ %}


## 5.2. è¿˜åŸå®˜æ–¹

1.å…ˆé€šè¿‡ä¸Šä¸€æ­¥ï¼Œåˆ©ç”¨Breedè¿˜åŸä¸ºå®˜æ–¹ç³»ç»Ÿã€‚

2.é€šè¿‡ftpä¸Šä¼ å®˜æ–¹çš„`mtd1_Bootloader.bin` åˆ° å°ç±³è·¯ç”±å™¨R3Gçš„`/tmp`ç›®å½•ä¸‹ã€‚

3.ç„¶åå†™å…¥åˆ°Bootloaderï¼ˆmtd1ï¼‰åˆ†åŒºã€‚

å¯ä»¥æŠŠå‘½ä»¤ä¸­çš„ Bootloader æ›¿æ¢ä¸º /dev/mtd1ã€‚
è¯·æ ¹æ®æ—¶é—´æƒ…å†µåˆ¤æ–­æ˜¯ä¸æ˜¯/dev/mtd1ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ `cat /proc/mtd | grep Bootloader` åˆ¤æ–­ã€‚

```bash
# æ“¦é™¤
mtd erase Bootloader

# å†™å…¥åˆ†åŒº
mtd write /tmp/mtd1_Bootloader.bin Bootloader

# æ ¡éªŒå†™å…¥
mtd verify /tmp/mtd1_Bootloader.bin Bootloader

# é‡å¯è·¯ç”±å™¨
reboot
```

5.åšå®Œä¸Šè¿°æ­¥éª¤ï¼Œè·¯ç”±å™¨åº”è¯¥æ˜¯å¯ä»¥æ­£å¸¸é‡å¯çš„ã€‚

6.æ‹”æ‰ç”µæºï¼Œä½¿ç”¨å®˜æ–¹æ¢å¤æ–¹å¼çœ‹æ˜¯å¦å¯ä»¥åˆ·æœºï¼Œå¦‚æœå¯ä»¥æ­£å¸¸è¾“å…¥ï¼Œè¯´æ˜æ‰€æœ‰éƒ½è¿˜åŸä¸ºå®˜æ–¹å‡ºå‚äº†ã€‚


# å…­ã€ç¡¬ä»¶è¯¦æƒ…

## 1.CPU

```bash
root@XiaoQiang:~# cat /proc/cpuinfo
system type             : MT7621
machine                 : Unknown
processor               : 0
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 1
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VPE                     : 1
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 2
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 1
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 3
cpu model               : MIPS 1004Kc V2.15
BogoMIPS                : 584.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
core                    : 1
VPE                     : 1
VCED exceptions         : not available
VCEI exceptions         : not available
```


## 2.å†…å­˜

```bash
root@XiaoQiang:~# cat /proc/meminfo
MemTotal:         253124 kB
MemFree:          148304 kB
Buffers:           11312 kB
Cached:            38948 kB
SwapCached:            0 kB
Active:            32392 kB
Inactive:          32236 kB
Active(anon):      16004 kB
Inactive(anon):     2352 kB
Active(file):      16388 kB
Inactive(file):    29884 kB
Unevictable:           0 kB
Mlocked:               0 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                 0 kB
Writeback:             0 kB
AnonPages:         14432 kB
Mapped:            11896 kB
Shmem:              3988 kB
Slab:              22032 kB
SReclaimable:       3812 kB
SUnreclaim:        18220 kB
KernelStack:        1408 kB
PageTables:          864 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      126560 kB
Committed_AS:     126500 kB
VmallocTotal:    1048372 kB
VmallocUsed:       12640 kB
VmallocChunk:    1007592 kB
```

## 3.é—ªå­˜

```bash
root@XiaoQiang:~# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 07f80000 00020000 "ALL"
mtd1: 00080000 00020000 "Bootloader"
mtd2: 00040000 00020000 "Config"
mtd3: 00040000 00020000 "Bdata"
mtd4: 00040000 00020000 "Factory"
mtd5: 00040000 00020000 "crash"
mtd6: 00040000 00020000 "crash_syslog"
mtd7: 00040000 00020000 "reserved0"
mtd8: 00400000 00020000 "kernel0"
mtd9: 00400000 00020000 "kernel1"
mtd10: 02000000 00020000 "rootfs0"
mtd11: 02000000 00020000 "rootfs1"
mtd12: 03580000 00020000 "overlay"
mtd13: 01341000 0001f000 "ubi_rootfs"
mtd14: 030ec000 0001f000 "data"
```
## 4.ç£ç›˜

```bash
root@XiaoQiang:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                   19.3M     19.3M         0 100% /
none                    122.8M         0    122.8M   0% /dev
tmpfs                   123.6M      3.8M    119.8M   3% /tmp
/dev/mtdblock13          19.3M     19.3M         0 100% /
tmpfs                   123.6M      3.8M    119.8M   3% /tmp
tmpfs                   123.6M      3.8M    119.8M   3% /extdisks
ubi1_0                   43.5M     11.6M     29.6M  28% /data
ubi1_0                   43.5M     11.6M     29.6M  28% /userdisk
/dev/mtdblock13          19.3M     19.3M         0 100% /userdisk/data
ubi1_0                   43.5M     11.6M     29.6M  28% /etc
```

## 5.æ— çº¿ç½‘ç»œ

```bash
root@XiaoQiang:~# iwinfo
apcli0    ESSID: unknown
          Access Point: 00:00:00:00:00:00
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: apcli0

apclii0   ESSID: unknown
          Access Point: 00:00:00:00:00:00
          Mode: Master  Channel: 149 (5.745 GHz)
          Tx-Power: 16 dBm  Link Quality: 0/100
          Signal: 0  Noise: -256
          Bit Rate: 867.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: apclii0

wl0       ESSID: Xiaomi_9168_5G
          Access Point: 78:11:DC:45:91:6A
          Mode: Master  Channel: 149 (5.745 GHz)
          Tx-Power: 16 dBm  Link Quality: 0/100
          Signal: 0  Noise: -256
          Bit Rate: 867.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl0

wl1       ESSID: Xiaomi_9168
          Access Point: 78:11:DC:45:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -56
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl1

wl2       ESSID: minet_ready
          Access Point: 7A:11:DC:55:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl2

wl3       ESSID: HT_AP2
          Access Point: 7A:11:DC:65:91:69
          Mode: Master  Channel: 6 (2.437 GHz)
          Tx-Power: 19 dBm  Link Quality: 0/100
          Signal: 0  Noise: -95
          Bit Rate: 144.0
          Encryption: WPA2 PSK/NONE (WEP-40, WEP-104, TKIP, CCMP, AES-OCB, CKIP, NONE)
          Type: wext  HW Mode(s): 802.11bgn
          Hardware: unknown [Generic WEXT]
          TX power offset: unknown
          Frequency offset: unknown
          Supports VAPs: no  PHY name: wl3
```

## 6.ç½‘å£ä¿¡æ¯

```bash
root@XiaoQiang:~# ifconfig
br-lan    Link encap:Ethernet  HWaddr 78:11:DC:45:91:67  
          inet addr:192.168.31.1  Bcast:192.168.31.255  Mask:255.255.255.0
          inet6 addr: fe80::7a11:dcff:fe45:9167/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3579 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8129 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:2226901 (2.1 MiB)  TX bytes:1081606 (1.0 MiB)

eth0      Link encap:Ethernet  HWaddr 78:11:DC:45:91:67  
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:6 errors:0 dropped:0 overruns:0 frame:0
          TX packets:6030 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:540 (540.0 B)  TX bytes:298725 (291.7 KiB)
          Interrupt:3 

eth1      Link encap:Ethernet  HWaddr 78:11:DC:45:91:68  
          inet6 addr: fe80::7a11:dcff:fe45:9168/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:476 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:195856 (191.2 KiB)

ifb0      Link encap:Ethernet  HWaddr 82:C1:06:F7:27:59  
          inet6 addr: fe80::80c1:6ff:fef7:2759/64 Scope:Link
          UP BROADCAST RUNNING NOARP  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:32 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:9157 errors:0 dropped:0 overruns:0 frame:0
          TX packets:9157 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:1373710 (1.3 MiB)  TX bytes:1373710 (1.3 MiB)

wl0       Link encap:Ethernet  HWaddr 78:11:DC:45:91:6A  
          inet6 addr: fe80::7a11:dcff:fe45:916a/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:24 

wl1       Link encap:Ethernet  HWaddr 78:11:DC:45:91:69  
          inet6 addr: fe80::7a11:dcff:fe45:9169/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3953 errors:3 dropped:0 overruns:0 frame:0
          TX packets:2503 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2583165 (2.4 MiB)  TX bytes:808670 (789.7 KiB)
          Interrupt:4 

wl2       Link encap:Ethernet  HWaddr 7A:11:DC:55:91:69  
          inet addr:169.254.29.1  Bcast:169.254.29.255  Mask:255.255.255.0
          inet6 addr: fe80::7811:dcff:fe55:9169/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
```

## 7.PCIè®¾å¤‡

```bash
root@XiaoQiang:~# lspci
00:00.0 Class 0604: 0e8d:0801
00:01.0 Class 0604: 0e8d:0801
01:00.0 Class 0280: 14c3:7603
02:00.0 Class 0280: 14c3:7662
```

# ä¸ƒã€å‚è€ƒèµ„æ–™


https://www.right.com.cn/forum/forum.php?mod=viewthread&tid=4062148&highlight=3G%2Bpadavan

https://bitbucket.org/padavan/rt-n56u/src/master/toolchain-mipsel/src/mipsel-linux-uclibc-toolchain/

https://www.right.com.cn/forum/thread-4052254-1-1.html

https://www.right.com.cn/forum/thread-8175356-1-1.html
- [å°ç±³ R3G è·¯ç”±å™¨åˆ·æœºæ•™ç¨‹ï¼ˆPandavanï¼‰](https://www.cnblogs.com/zbyisgudi/p/18714570)
https://www.right.com.cn/forum/thread-4051297-1-1.html

https://web.vip.miui.com/page/info/mio/mio/detail?postId=19184644&app_version=dev.20051

https://www1.miwifi.com/miwifi_download.html

https://www.miwifi.com/wap_download.html

# å…«ã€é™„ä»¶

æœ¬æ–‡ä½¿ç”¨åˆ°çš„è½¯ä»¶åŒ…å·²ä¸Šä¼ ç½‘ç›˜ï¼š[BlogDocs->files->router-xiaomi-r3g-exploit](https://pan.baidu.com/s/1yEbHDQBzy43uV8gIYXqbnw?pwd=6666#list/path=%2Fsharelink2076919717-858150382706250%2Ffiles%2Frouter-xiaomi-r3g-exploit)


